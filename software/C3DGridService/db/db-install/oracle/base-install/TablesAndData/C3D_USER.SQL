
CREATE TABLE C3D_USER
(
  C3D_USERNAME       VARCHAR2(50)          NOT NULL,
  C3D_PASSWORD       VARCHAR2(50)          NOT NULL,
  EXTRNL_LOGIN_NAME  VARCHAR2(500)         NOT NULL,
  UPDATE_DATE        DATE                  DEFAULT SYSDATE               NOT NULL,
  CREATE_USER        VARCHAR2(30),
  CREATE_DATE        DATE,
  MODIFY_USER        VARCHAR2(30),
  MODIFY_DATE        DATE
)
/


CREATE OR REPLACE TRIGGER CU_BU 
 BEFORE UPDATE 
 ON C3D_USER 
 REFERENCING OLD AS OLD NEW AS NEW 
 FOR EACH ROW 
-- PL/SQL Block
BEGIN 
 :new.MODIFY_USER := substr(user,1,30); 
 :new.MODIFY_DATE := sysdate; 
END;
/



CREATE OR REPLACE TRIGGER CU_BI 
 BEFORE INSERT 
 ON C3D_USER 
 REFERENCING OLD AS OLD NEW AS NEW 
 FOR EACH ROW 
-- PL/SQL Block
BEGIN 
 if :new.CREATE_USER IS NULL THEN 
   :new.CREATE_USER := substr(user,1,30); 
 END IF; 
 :new.CREATE_DATE := sysdate; 
END;
/




